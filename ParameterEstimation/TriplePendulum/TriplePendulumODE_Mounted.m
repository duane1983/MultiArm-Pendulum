function dydt=TriplePendulumODE_Mounted(t,y,m1,m2,m3,a1,a2,a3,L1,L2,I1,I2,I3,k1,k2,k3,g)
%The state is : theta1, theta2, theta3, dtheta1, dtheta2, dtheta3
dydt(1,1)=y(4);
%
dydt(2,1)=y(5);
%
dydt(3,1)=y(6);
%
dydt(4,1)=-(4*I2*I3*k1*y(4) + 4*I2*I3*k2*y(4) - 4*I2*I3*k2*y(5) + 2*L2^2*a3^2*k1*m3^2*y(4) + 2*L2^2*a3^2*k2*m3^2*y(4) - 2*L2^2*a3^2*k2*m3^2*y(5) + 4*I3*L2^2*k1*m3*y(4) + 4*I3*L2^2*k2*m3*y(4) - 4*I3*L2^2*k2*m3*y(5) + 4*I3*a2^2*k1*m2*y(4) + 4*I2*a3^2*k1*m3*y(4) + 4*I3*a2^2*k2*m2*y(4) + 4*I2*a3^2*k2*m3*y(4) - 4*I3*a2^2*k2*m2*y(5) - 4*I2*a3^2*k2*m3*y(5) - 2*I3*L1*a2^2*g*m2^2*sin(y(1) - 2*y(2)) - 2*I2*L1*a3^2*g*m3^2*sin(y(1) - 2*y(3)) - 4*I2*I3*a1*g*m1*sin(y(1)) + 2*I3*L1^2*L2^2*m3^2*y(4)^2*sin(2*y(1) - 2*y(2)) + 2*I3*L1^2*a2^2*m2^2*y(4)^2*sin(2*y(1) - 2*y(2)) + 2*I2*L1^2*a3^2*m3^2*y(4)^2*sin(2*y(1) - 2*y(3)) + 4*I3*L1*L2^3*m3^2*y(5)^2*sin(y(1) - y(2)) + 4*I3*L1*a2^3*m2^2*y(5)^2*sin(y(1) - y(2)) + 4*I2*L1*a3^3*m3^2*y(6)^2*sin(y(1) - y(3)) + 4*a2^2*a3^2*k1*m2*m3*y(4) + 4*a2^2*a3^2*k2*m2*m3*y(4) - 4*a2^2*a3^2*k2*m2*m3*y(5) - 2*I3*L1*L2^2*g*m3^2*sin(y(1)) - 2*I3*L1*a2^2*g*m2^2*sin(y(1)) - 2*I2*L1*a3^2*g*m3^2*sin(y(1)) - 2*L2^2*a3^2*k1*m3^2*y(4)*cos(2*y(2) - 2*y(3)) - 2*L2^2*a3^2*k2*m3^2*y(4)*cos(2*y(2) - 2*y(3)) + 2*L2^2*a3^2*k2*m3^2*y(5)*cos(2*y(2) - 2*y(3)) - 2*I3*L1*L2^2*g*m3^2*sin(y(1) - 2*y(2)) - 4*I2*I3*L1*g*m2*sin(y(1)) - 4*I2*I3*L1*g*m3*sin(y(1)) + 4*I2*I3*L1*a2*m2*y(5)^2*sin(y(1) - y(2)) + 4*I2*I3*L1*a3*m3*y(6)^2*sin(y(1) - y(3)) + 2*L1^2*a2^2*a3^2*m2^2*m3*y(4)^2*sin(2*y(1) - 2*y(2)) + 2*L1^2*a2^2*a3^2*m2*m3^2*y(4)^2*sin(2*y(1) - 2*y(3)) + 2*I2*L1*L2*a3^2*m3^2*y(5)^2*sin(y(1) + y(2) - 2*y(3)) + 2*I3*L1*L2^2*a3*m3^2*y(6)^2*sin(y(1) - 2*y(2) + y(3)) + 4*L1*a2^3*a3^2*m2^2*m3*y(5)^2*sin(y(1) - y(2)) + 4*L1*a2^2*a3^3*m2*m3^2*y(6)^2*sin(y(1) - y(3)) + 2*L1*L2*a3^2*k2*m3^2*y(4)*cos(y(1) - y(2)) - 2*L1*L2*a3^2*k2*m3^2*y(5)*cos(y(1) - y(2)) - 2*L1*L2*a3^2*k3*m3^2*y(5)*cos(y(1) - y(2)) + 2*L1*L2*a3^2*k3*m3^2*y(6)*cos(y(1) - y(2)) + 2*L1*L2^2*a3*k3*m3^2*y(5)*cos(y(1) - y(3)) - 2*L1*L2^2*a3*k3*m3^2*y(6)*cos(y(1) - y(3)) - 2*L1*L2^2*a3^2*g*m2*m3^2*sin(y(1)) + 4*I3*L1*L2*k2*m3*y(4)*cos(y(1) - y(2)) - 4*I3*L1*L2*k2*m3*y(5)*cos(y(1) - y(2)) - 4*I3*L1*L2*k3*m3*y(5)*cos(y(1) - y(2)) + 4*I3*L1*L2*k3*m3*y(6)*cos(y(1) - y(2)) + L1*L2^2*a3^2*g*m2*m3^2*sin(y(1) - 2*y(2) + 2*y(3)) + L1*L2^2*a3^2*g*m2*m3^2*sin(y(1) + 2*y(2) - 2*y(3)) - 2*L2^2*a1*a3^2*g*m1*m3^2*sin(y(1)) - 2*L1*a2^2*a3^2*g*m2*m3^2*sin(y(1)) - 2*L1*a2^2*a3^2*g*m2^2*m3*sin(y(1)) + 4*I3*L1*a2*k2*m2*y(4)*cos(y(1) - y(2)) - 4*I3*L1*a2*k2*m2*y(5)*cos(y(1) - y(2)) - 4*I3*L1*a2*k3*m2*y(5)*cos(y(1) - y(2)) + 4*I3*L1*a2*k3*m2*y(6)*cos(y(1) - y(2)) + 4*I2*L1*a3*k3*m3*y(5)*cos(y(1) - y(3)) - 4*I2*L1*a3*k3*m3*y(6)*cos(y(1) - y(3)) + L2^2*a1*a3^2*g*m1*m3^2*sin(y(1) - 2*y(2) + 2*y(3)) + L2^2*a1*a3^2*g*m1*m3^2*sin(y(1) + 2*y(2) - 2*y(3)) + 2*I2*L1*L2*a3^2*m3^2*y(5)^2*sin(y(1) - y(2)) + 2*I3*L1*L2^2*a3*m3^2*y(6)^2*sin(y(1) - y(3)) - 4*I3*L1*L2^2*g*m2*m3*sin(y(1)) - 4*I3*L2^2*a1*g*m1*m3*sin(y(1)) - 4*I2*L1*a3^2*g*m2*m3*sin(y(1)) - 4*I3*L1*a2^2*g*m2*m3*sin(y(1)) - 2*L1*a2^2*a3^2*g*m2^2*m3*sin(y(1) - 2*y(2)) - 2*L1*a2^2*a3^2*g*m2*m3^2*sin(y(1) - 2*y(3)) + 4*I2*I3*L1*L2*m3*y(5)^2*sin(y(1) - y(2)) - 4*I3*a1*a2^2*g*m1*m2*sin(y(1)) - 4*I2*a1*a3^2*g*m1*m3*sin(y(1)) - 2*L1*L2*a3^2*k2*m3^2*y(4)*cos(y(1) + y(2) - 2*y(3)) + 2*L1*L2*a3^2*k2*m3^2*y(5)*cos(y(1) + y(2) - 2*y(3)) + 2*L1*L2*a3^2*k3*m3^2*y(5)*cos(y(1) + y(2) - 2*y(3)) - 2*L1*L2^2*a3*k3*m3^2*y(5)*cos(y(1) - 2*y(2) + y(3)) - 2*L1*L2*a3^2*k3*m3^2*y(6)*cos(y(1) + y(2) - 2*y(3)) + 2*L1*L2^2*a3*k3*m3^2*y(6)*cos(y(1) - 2*y(2) + y(3)) - 4*I3*L1*L2*a2*g*m2*m3*sin(y(1) - 2*y(2)) + 2*L1^2*L2*a2*a3^2*m2*m3^2*y(4)^2*sin(2*y(1) - 2*y(2)) - 2*L1^2*L2*a2*a3^2*m2*m3^2*y(4)^2*sin(2*y(1) - 2*y(3)) + 2*L1*L2*a2^2*a3^2*m2*m3^2*y(5)^2*sin(y(1) + y(2) - 2*y(3)) - 2*L1*L2^2*a2*a3^2*m2*m3^2*y(5)^2*sin(y(1) + y(2) - 2*y(3)) + 4*I3*L1^2*L2*a2*m2*m3*y(4)^2*sin(2*y(1) - 2*y(2)) - 2*L1*L2*a2*a3^3*m2*m3^2*y(6)^2*sin(y(1) - y(3)) + 4*L1*a2*a3^2*k2*m2*m3*y(4)*cos(y(1) - y(2)) - 4*L1*a2*a3^2*k2*m2*m3*y(5)*cos(y(1) - y(2)) - 4*L1*a2*a3^2*k3*m2*m3*y(5)*cos(y(1) - y(2)) + 4*L1*a2*a3^2*k3*m2*m3*y(6)*cos(y(1) - y(2)) + 4*L1*a2^2*a3*k3*m2*m3*y(5)*cos(y(1) - y(3)) - 4*L1*a2^2*a3*k3*m2*m3*y(6)*cos(y(1) - y(3)) + 2*L1*L2*a2*a3^2*g*m2*m3^2*sin(y(1)) + 2*L1*L2*a2^2*a3^2*m2*m3^2*y(5)^2*sin(y(1) - y(2)) + 2*L1*L2^2*a2*a3^2*m2*m3^2*y(5)^2*sin(y(1) - y(2)) - L1*L2*a2*a3^2*g*m2*m3^2*sin(y(1) - 2*y(2) + 2*y(3)) - L1*L2*a2*a3^2*g*m2*m3^2*sin(y(1) + 2*y(2) - 2*y(3)) + 2*L1*L2*a2*a3^3*m2*m3^2*y(6)^2*sin(y(1) - 2*y(2) + y(3)) + 4*I3*L1*L2*a2*g*m2*m3*sin(y(1)) + 4*I3*L1*L2*a2^2*m2*m3*y(5)^2*sin(y(1) - y(2)) + 4*I3*L1*L2^2*a2*m2*m3*y(5)^2*sin(y(1) - y(2)) - 4*a1*a2^2*a3^2*g*m1*m2*m3*sin(y(1)) - 2*L1*L2*a2*a3^2*g*m2*m3^2*sin(y(1) - 2*y(2)) + 2*L1*L2*a2*a3^2*g*m2*m3^2*sin(y(1) - 2*y(3)) + 4*I2*L1*a2*a3^2*m2*m3*y(5)^2*sin(y(1) - y(2)) + 4*I3*L1*a2^2*a3*m2*m3*y(6)^2*sin(y(1) - y(3)) - 2*L1*L2*a2*a3*k3*m2*m3*y(5)*cos(y(1) - 2*y(2) + y(3)) + 2*L1*L2*a2*a3*k3*m2*m3*y(6)*cos(y(1) - 2*y(2) + y(3)) + 2*I3*L1*L2*a2*a3*m2*m3*y(6)^2*sin(y(1) - 2*y(2) + y(3)) - 2*L1*L2*a2*a3*k3*m2*m3*y(5)*cos(y(1) - y(3)) + 2*L1*L2*a2*a3*k3*m2*m3*y(6)*cos(y(1) - y(3)) - 2*I3*L1*L2*a2*a3*m2*m3*y(6)^2*sin(y(1) - y(3)))/(2*(2*I1*I2*I3 + 2*I2*I3*L1^2*m2 + 2*I1*I3*L2^2*m3 + 2*I2*I3*L1^2*m3 + 2*I2*I3*a1^2*m1 + 2*I1*I3*a2^2*m2 + 2*I1*I2*a3^2*m3 + I3*L1^2*L2^2*m3^2 + I3*L1^2*a2^2*m2^2 + I1*L2^2*a3^2*m3^2 + I2*L1^2*a3^2*m3^2 + 2*I3*a1^2*a2^2*m1*m2 + 2*I2*a1^2*a3^2*m1*m3 + 2*I1*a2^2*a3^2*m2*m3 - I3*L1^2*L2^2*m3^2*cos(2*y(1) - 2*y(2)) - I3*L1^2*a2^2*m2^2*cos(2*y(1) - 2*y(2)) - I2*L1^2*a3^2*m3^2*cos(2*y(1) - 2*y(3)) - I1*L2^2*a3^2*m3^2*cos(2*y(2) - 2*y(3)) + L1^2*L2^2*a3^2*m2*m3^2 + L2^2*a1^2*a3^2*m1*m3^2 + L1^2*a2^2*a3^2*m2*m3^2 + L1^2*a2^2*a3^2*m2^2*m3 + 2*I3*L1^2*L2^2*m2*m3 + 2*I3*L2^2*a1^2*m1*m3 + 2*I2*L1^2*a3^2*m2*m3 + 2*I3*L1^2*a2^2*m2*m3 - L1^2*L2^2*a3^2*m2*m3^2*cos(2*y(2) - 2*y(3)) - L1^2*a2^2*a3^2*m2^2*m3*cos(2*y(1) - 2*y(2)) - L1^2*a2^2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(3)) - L2^2*a1^2*a3^2*m1*m3^2*cos(2*y(2) - 2*y(3)) - L1^2*L2*a2*a3^2*m2*m3^2 - 2*I3*L1^2*L2*a2*m2*m3 + 2*a1^2*a2^2*a3^2*m1*m2*m3 - L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(2)) + L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(3)) + L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(2) - 2*y(3)) - 2*I3*L1^2*L2*a2*m2*m3*cos(2*y(1) - 2*y(2))));
%
dydt(5,1)=(4*I1*I3*k2*y(4) - 4*I1*I3*k2*y(5) - 4*I1*I3*k3*y(5) + 4*I1*I3*k3*y(6) + 2*L1^2*a3^2*k2*m3^2*y(4) - 2*L1^2*a3^2*k2*m3^2*y(5) - 2*L1^2*a3^2*k3*m3^2*y(5) + 2*L1^2*a3^2*k3*m3^2*y(6) + 4*I3*L1^2*k2*m2*y(4) - 4*I3*L1^2*k2*m2*y(5) + 4*I3*L1^2*k2*m3*y(4) - 4*I3*L1^2*k2*m3*y(5) - 4*I3*L1^2*k3*m2*y(5) + 4*I3*L1^2*k3*m2*y(6) - 4*I3*L1^2*k3*m3*y(5) + 4*I3*L1^2*k3*m3*y(6) + 4*I3*a1^2*k2*m1*y(4) - 4*I3*a1^2*k2*m1*y(5) + 4*I1*a3^2*k2*m3*y(4) - 4*I3*a1^2*k3*m1*y(5) - 4*I1*a3^2*k2*m3*y(5) + 4*I3*a1^2*k3*m1*y(6) - 4*I1*a3^2*k3*m3*y(5) + 4*I1*a3^2*k3*m3*y(6) + 2*I1*L2*a3^2*g*m3^2*sin(y(2) - 2*y(3)) + 4*I1*I3*a2*g*m2*sin(y(2)) + 2*I3*L1^2*L2^2*m3^2*y(5)^2*sin(2*y(1) - 2*y(2)) + 2*I3*L1^2*a2^2*m2^2*y(5)^2*sin(2*y(1) - 2*y(2)) - 2*I1*L2^2*a3^2*m3^2*y(5)^2*sin(2*y(2) - 2*y(3)) - 2*I3*L1^2*L2*g*m3^2*sin(2*y(1) - y(2)) + 4*I3*L1^3*L2*m3^2*y(4)^2*sin(y(1) - y(2)) - 2*I3*L1^2*a2*g*m2^2*sin(2*y(1) - y(2)) + 4*I3*L1^3*a2*m2^2*y(4)^2*sin(y(1) - y(2)) - 4*I1*L2*a3^3*m3^2*y(6)^2*sin(y(2) - y(3)) + 4*L1^2*a3^2*k2*m2*m3*y(4) - 4*L1^2*a3^2*k2*m2*m3*y(5) - 4*L1^2*a3^2*k3*m2*m3*y(5) + 4*L1^2*a3^2*k3*m2*m3*y(6) + 4*a1^2*a3^2*k2*m1*m3*y(4) - 4*a1^2*a3^2*k2*m1*m3*y(5) - 4*a1^2*a3^2*k3*m1*m3*y(5) + 4*a1^2*a3^2*k3*m1*m3*y(6) + 2*I3*L1^2*L2*g*m3^2*sin(y(2)) + 2*I3*L1^2*a2*g*m2^2*sin(y(2)) + 2*I1*L2*a3^2*g*m3^2*sin(y(2)) - 2*L1^2*a3^2*k2*m3^2*y(4)*cos(2*y(1) - 2*y(3)) + 2*L1^2*a3^2*k2*m3^2*y(5)*cos(2*y(1) - 2*y(3)) + 2*L1^2*a3^2*k3*m3^2*y(5)*cos(2*y(1) - 2*y(3)) - 2*L1^2*a3^2*k3*m3^2*y(6)*cos(2*y(1) - 2*y(3)) + 4*I1*I3*L2*g*m3*sin(y(2)) + 4*I1*I3*L1*a2*m2*y(4)^2*sin(y(1) - y(2)) - 4*I1*I3*L2*a3*m3*y(6)^2*sin(y(2) - y(3)) - 2*L1^2*L2^2*a3^2*m2*m3^2*y(5)^2*sin(2*y(2) - 2*y(3)) + 2*L1^2*a2^2*a3^2*m2^2*m3*y(5)^2*sin(2*y(1) - 2*y(2)) - 2*L2^2*a1^2*a3^2*m1*m3^2*y(5)^2*sin(2*y(2) - 2*y(3)) - L1^2*L2*a3^2*g*m2*m3^2*sin(2*y(1) - y(2)) - 2*I1*L1*L2*a3^2*m3^2*y(4)^2*sin(y(1) + y(2) - 2*y(3)) - 2*I3*L1^2*L2*a3*m3^2*y(6)^2*sin(y(2) - 2*y(1) + y(3)) + 2*L1^3*L2*a3^2*m2*m3^2*y(4)^2*sin(y(1) - y(2)) - 4*L1^2*L2*a3^3*m2*m3^2*y(6)^2*sin(y(2) - y(3)) - L1^2*a2*a3^2*g*m2*m3^2*sin(2*y(1) - y(2)) - 2*L1^2*a2*a3^2*g*m2^2*m3*sin(2*y(1) - y(2)) + 2*L1^3*a2*a3^2*m2*m3^2*y(4)^2*sin(y(1) - y(2)) + 4*L1^3*a2*a3^2*m2^2*m3*y(4)^2*sin(y(1) - y(2)) - 4*L2*a1^2*a3^3*m1*m3^2*y(6)^2*sin(y(2) - y(3)) + 2*L1^2*a2*a3^3*m2*m3^2*y(6)^2*sin(y(2) - y(3)) - 2*I3*L1^2*L2*g*m2*m3*sin(2*y(1) - y(2)) + 4*I3*L1^3*L2*m2*m3*y(4)^2*sin(y(1) - y(2)) - 2*I3*L1^2*a2*g*m2*m3*sin(2*y(1) - y(2)) + 2*L1*L2*a3^2*k1*m3^2*y(4)*cos(y(1) - y(2)) + 2*L1*L2*a3^2*k2*m3^2*y(4)*cos(y(1) - y(2)) - 2*L1*L2*a3^2*k2*m3^2*y(5)*cos(y(1) - y(2)) - 2*L1^2*L2*a3*k3*m3^2*y(5)*cos(y(2) - y(3)) + 2*L1^2*L2*a3*k3*m3^2*y(6)*cos(y(2) - y(3)) + 4*I3*L1^3*a2*m2*m3*y(4)^2*sin(y(1) - y(2)) + L1^2*L2*a3^2*g*m2*m3^2*sin(y(2)) + 4*I3*L1*L2*k1*m3*y(4)*cos(y(1) - y(2)) + 4*I3*L1*L2*k2*m3*y(4)*cos(y(1) - y(2)) - 4*I3*L1*L2*k2*m3*y(5)*cos(y(1) - y(2)) + L1^2*L2*a3^2*g*m2*m3^2*sin(2*y(1) + y(2) - 2*y(3)) + 2*L2*a1^2*a3^2*g*m1*m3^2*sin(y(2)) + L1^2*a2*a3^2*g*m2*m3^2*sin(y(2)) + 2*L1^2*a2*a3^2*g*m2^2*m3*sin(y(2)) + 4*I3*L1*a2*k1*m2*y(4)*cos(y(1) - y(2)) + 4*I3*L1*a2*k2*m2*y(4)*cos(y(1) - y(2)) - 4*I3*L1*a2*k2*m2*y(5)*cos(y(1) - y(2)) - 4*I1*L2*a3*k3*m3*y(5)*cos(y(2) - y(3)) + 4*I1*L2*a3*k3*m3*y(6)*cos(y(2) - y(3)) - 2*L1^3*L2*a3^2*m2*m3^2*y(4)^2*sin(y(1) + y(2) - 2*y(3)) - L1^2*a2*a3^2*g*m2*m3^2*sin(2*y(1) + y(2) - 2*y(3)) + 2*I1*L1*L2*a3^2*m3^2*y(4)^2*sin(y(1) - y(2)) - 2*I3*L1^2*L2*a3*m3^2*y(6)^2*sin(y(2) - y(3)) + 2*I3*L1^2*L2*g*m2*m3*sin(y(2)) + L1^2*L2*a3^2*g*m2*m3^2*sin(y(2) - 2*y(3)) + 2*L1^3*a2*a3^2*m2*m3^2*y(4)^2*sin(y(1) + y(2) - 2*y(3)) - 2*L1^2*a2*a3^3*m2*m3^2*y(6)^2*sin(y(2) - 2*y(1) + y(3)) + 4*I3*L2*a1^2*g*m1*m3*sin(y(2)) + 2*I3*L1^2*a2*g*m2*m3*sin(y(2)) + 2*L2*a1^2*a3^2*g*m1*m3^2*sin(y(2) - 2*y(3)) - L1^2*a2*a3^2*g*m2*m3^2*sin(y(2) - 2*y(3)) + 4*I1*I3*L1*L2*m3*y(4)^2*sin(y(1) - y(2)) + 4*I3*a1^2*a2*g*m1*m2*sin(y(2)) + 4*I1*a2*a3^2*g*m2*m3*sin(y(2)) - 2*L1*L2*a3^2*k1*m3^2*y(4)*cos(y(1) + y(2) - 2*y(3)) - 2*L1*L2*a3^2*k2*m3^2*y(4)*cos(y(1) + y(2) - 2*y(3)) + 2*L1*L2*a3^2*k2*m3^2*y(5)*cos(y(1) + y(2) - 2*y(3)) + 2*L1^2*L2*a3*k3*m3^2*y(5)*cos(y(2) - 2*y(1) + y(3)) - 2*L1^2*L2*a3*k3*m3^2*y(6)*cos(y(2) - 2*y(1) + y(3)) + 2*L1^2*L2*a2*a3^2*m2*m3^2*y(5)^2*sin(2*y(1) - 2*y(2)) + 2*L1^2*L2*a2*a3^2*m2*m3^2*y(5)^2*sin(2*y(2) - 2*y(3)) + 2*L1^2*a2*a3*k3*m2*m3*y(5)*cos(y(2) - 2*y(1) + y(3)) - 2*L1^2*a2*a3*k3*m2*m3*y(6)*cos(y(2) - 2*y(1) + y(3)) - 2*L1*L2*a1^2*a3^2*m1*m3^2*y(4)^2*sin(y(1) + y(2) - 2*y(3)) + 4*I3*L1^2*L2*a2*m2*m3*y(5)^2*sin(2*y(1) - 2*y(2)) - L1*L2*a1*a3^2*g*m1*m3^2*sin(2*y(1) - y(2)) - 2*I3*L1*L2*a1*g*m1*m3*sin(2*y(1) - y(2)) - 2*I3*L1^2*a2*a3*m2*m3*y(6)^2*sin(y(2) - 2*y(1) + y(3)) - 2*I3*L1*a1*a2*g*m1*m2*sin(2*y(1) - y(2)) - 4*L1^2*L2*a3*k3*m2*m3*y(5)*cos(y(2) - y(3)) + 4*L1^2*L2*a3*k3*m2*m3*y(6)*cos(y(2) - y(3)) + 4*L1*a2*a3^2*k1*m2*m3*y(4)*cos(y(1) - y(2)) + 4*L1*a2*a3^2*k2*m2*m3*y(4)*cos(y(1) - y(2)) - 4*L1*a2*a3^2*k2*m2*m3*y(5)*cos(y(1) - y(2)) - 4*L2*a1^2*a3*k3*m1*m3*y(5)*cos(y(2) - y(3)) + 4*L2*a1^2*a3*k3*m1*m3*y(6)*cos(y(2) - y(3)) + 2*L1^2*a2*a3*k3*m2*m3*y(5)*cos(y(2) - y(3)) - 2*L1^2*a2*a3*k3*m2*m3*y(6)*cos(y(2) - y(3)) - L1*L2*a1*a3^2*g*m1*m3^2*sin(y(2)) + 2*L1*L2*a1^2*a3^2*m1*m3^2*y(4)^2*sin(y(1) - y(2)) + L1*L2*a1*a3^2*g*m1*m3^2*sin(2*y(1) + y(2) - 2*y(3)) - 2*I3*L1*L2*a1*g*m1*m3*sin(y(2)) + 4*I3*L1*L2*a1^2*m1*m3*y(4)^2*sin(y(1) - y(2)) - 4*I3*L1^2*L2*a3*m2*m3*y(6)^2*sin(y(2) - y(3)) + 4*a1^2*a2*a3^2*g*m1*m2*m3*sin(y(2)) - L1*L2*a1*a3^2*g*m1*m3^2*sin(y(2) - 2*y(3)) - 2*I3*L1*a1*a2*g*m1*m2*sin(y(2)) + 4*I3*L1*a1^2*a2*m1*m2*y(4)^2*sin(y(1) - y(2)) + 4*I1*L1*a2*a3^2*m2*m3*y(4)^2*sin(y(1) - y(2)) - 4*I3*L2*a1^2*a3*m1*m3*y(6)^2*sin(y(2) - y(3)) + 2*I3*L1^2*a2*a3*m2*m3*y(6)^2*sin(y(2) - y(3)) - 2*L1*a1*a2*a3^2*g*m1*m2*m3*sin(2*y(1) - y(2)) - 2*L1*a1*a2*a3^2*g*m1*m2*m3*sin(y(2)) + 4*L1*a1^2*a2*a3^2*m1*m2*m3*y(4)^2*sin(y(1) - y(2)))/(2*(2*I1*I2*I3 + 2*I2*I3*L1^2*m2 + 2*I1*I3*L2^2*m3 + 2*I2*I3*L1^2*m3 + 2*I2*I3*a1^2*m1 + 2*I1*I3*a2^2*m2 + 2*I1*I2*a3^2*m3 + I3*L1^2*L2^2*m3^2 + I3*L1^2*a2^2*m2^2 + I1*L2^2*a3^2*m3^2 + I2*L1^2*a3^2*m3^2 + 2*I3*a1^2*a2^2*m1*m2 + 2*I2*a1^2*a3^2*m1*m3 + 2*I1*a2^2*a3^2*m2*m3 - I3*L1^2*L2^2*m3^2*cos(2*y(1) - 2*y(2)) - I3*L1^2*a2^2*m2^2*cos(2*y(1) - 2*y(2)) - I2*L1^2*a3^2*m3^2*cos(2*y(1) - 2*y(3)) - I1*L2^2*a3^2*m3^2*cos(2*y(2) - 2*y(3)) + L1^2*L2^2*a3^2*m2*m3^2 + L2^2*a1^2*a3^2*m1*m3^2 + L1^2*a2^2*a3^2*m2*m3^2 + L1^2*a2^2*a3^2*m2^2*m3 + 2*I3*L1^2*L2^2*m2*m3 + 2*I3*L2^2*a1^2*m1*m3 + 2*I2*L1^2*a3^2*m2*m3 + 2*I3*L1^2*a2^2*m2*m3 - L1^2*L2^2*a3^2*m2*m3^2*cos(2*y(2) - 2*y(3)) - L1^2*a2^2*a3^2*m2^2*m3*cos(2*y(1) - 2*y(2)) - L1^2*a2^2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(3)) - L2^2*a1^2*a3^2*m1*m3^2*cos(2*y(2) - 2*y(3)) - L1^2*L2*a2*a3^2*m2*m3^2 - 2*I3*L1^2*L2*a2*m2*m3 + 2*a1^2*a2^2*a3^2*m1*m2*m3 - L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(2)) + L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(3)) + L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(2) - 2*y(3)) - 2*I3*L1^2*L2*a2*m2*m3*cos(2*y(1) - 2*y(2))));
%
dydt(6,1)=(4*I1*I2*k3*y(5) - 4*I1*I2*k3*y(6) + 2*L1^2*L2^2*k3*m3^2*y(5) - 2*L1^2*L2^2*k3*m3^2*y(6) + 2*L1^2*a2^2*k3*m2^2*y(5) - 2*L1^2*a2^2*k3*m2^2*y(6) + 4*I2*L1^2*k3*m2*y(5) + 4*I1*L2^2*k3*m3*y(5) - 4*I2*L1^2*k3*m2*y(6) + 4*I2*L1^2*k3*m3*y(5) - 4*I1*L2^2*k3*m3*y(6) - 4*I2*L1^2*k3*m3*y(6) + 4*I2*a1^2*k3*m1*y(5) + 4*I1*a2^2*k3*m2*y(5) - 4*I2*a1^2*k3*m1*y(6) - 4*I1*a2^2*k3*m2*y(6) + 4*I1*I2*a3*g*m3*sin(y(3)) + 2*I2*L1^2*a3^2*m3^2*y(6)^2*sin(2*y(1) - 2*y(3)) + 2*I1*L2^2*a3^2*m3^2*y(6)^2*sin(2*y(2) - 2*y(3)) - 2*I2*L1^2*a3*g*m3^2*sin(2*y(1) - y(3)) - 2*I1*L2^2*a3*g*m3^2*sin(2*y(2) - y(3)) + 4*L1^2*L2^2*k3*m2*m3*y(5) - 4*L1^2*L2^2*k3*m2*m3*y(6) + 4*I2*L1^3*a3*m3^2*y(4)^2*sin(y(1) - y(3)) + 4*I1*L2^3*a3*m3^2*y(5)^2*sin(y(2) - y(3)) + 4*L2^2*a1^2*k3*m1*m3*y(5) + 4*L1^2*a2^2*k3*m2*m3*y(5) - 4*L2^2*a1^2*k3*m1*m3*y(6) - 4*L1^2*a2^2*k3*m2*m3*y(6) + 4*a1^2*a2^2*k3*m1*m2*y(5) - 4*a1^2*a2^2*k3*m1*m2*y(6) + 2*I1*L2^2*a3*g*m3^2*sin(y(3)) + 2*I2*L1^2*a3*g*m3^2*sin(y(3)) - 2*L1^2*L2^2*k3*m3^2*y(5)*cos(2*y(1) - 2*y(2)) + 2*L1^2*L2^2*k3*m3^2*y(6)*cos(2*y(1) - 2*y(2)) - 2*L1^2*a2^2*k3*m2^2*y(5)*cos(2*y(1) - 2*y(2)) + 2*L1^2*a2^2*k3*m2^2*y(6)*cos(2*y(1) - 2*y(2)) + 4*I1*I2*L1*a3*m3*y(4)^2*sin(y(1) - y(3)) + 4*I1*I2*L2*a3*m3*y(5)^2*sin(y(2) - y(3)) + 2*L1^2*L2^2*a3^2*m2*m3^2*y(6)^2*sin(2*y(2) - 2*y(3)) + 2*L1^2*a2^2*a3^2*m2*m3^2*y(6)^2*sin(2*y(1) - 2*y(3)) + 2*L2^2*a1^2*a3^2*m1*m3^2*y(6)^2*sin(2*y(2) - 2*y(3)) - L1^2*L2^2*a3*g*m2*m3^2*sin(2*y(1) - y(3)) - L1^2*L2^2*a3*g*m2*m3^2*sin(2*y(2) - y(3)) - 2*I1*L1*L2^2*a3*m3^2*y(4)^2*sin(y(1) - 2*y(2) + y(3)) - 2*I2*L1^2*L2*a3*m3^2*y(5)^2*sin(y(2) - 2*y(1) + y(3)) + 2*L1^3*L2^2*a3*m2*m3^2*y(4)^2*sin(y(1) - y(3)) + 4*L1^2*L2^3*a3*m2*m3^2*y(5)^2*sin(y(2) - y(3)) - 2*L1^2*a2^2*a3*g*m2*m3^2*sin(2*y(1) - y(3)) - L1^2*a2^2*a3*g*m2^2*m3*sin(2*y(1) - y(3)) - 2*L2^2*a1^2*a3*g*m1*m3^2*sin(2*y(2) - y(3)) + L1^2*a2^2*a3*g*m2^2*m3*sin(2*y(2) - y(3)) + 4*L1^3*a2^2*a3*m2*m3^2*y(4)^2*sin(y(1) - y(3)) + 2*L1^3*a2^2*a3*m2^2*m3*y(4)^2*sin(y(1) - y(3)) + 4*L2^3*a1^2*a3*m1*m3^2*y(5)^2*sin(y(2) - y(3)) - 2*L1^2*a2^3*a3*m2^2*m3*y(5)^2*sin(y(2) - y(3)) - 4*L1^2*L2*a2*k3*m2*m3*y(5) + 4*L1^2*L2*a2*k3*m2*m3*y(6) - 2*I2*L1^2*a3*g*m2*m3*sin(2*y(1) - y(3)) + 2*L1*L2^2*a3*k1*m3^2*y(4)*cos(y(1) - y(3)) + 2*L1*L2^2*a3*k2*m3^2*y(4)*cos(y(1) - y(3)) - 2*L1*L2^2*a3*k2*m3^2*y(5)*cos(y(1) - y(3)) - 2*L1^2*L2*a3*k2*m3^2*y(4)*cos(y(2) - y(3)) + 2*L1^2*L2*a3*k2*m3^2*y(5)*cos(y(2) - y(3)) + 2*L1^2*L2*a3*k3*m3^2*y(5)*cos(y(2) - y(3)) - 2*L1^2*L2*a3*k3*m3^2*y(6)*cos(y(2) - y(3)) + 4*I2*L1^3*a3*m2*m3*y(4)^2*sin(y(1) - y(3)) + L1^2*L2^2*a3*g*m2*m3^2*sin(y(3)) + L1^2*L2^2*a3*g*m2*m3^2*sin(2*y(1) - 2*y(2) + y(3)) + 2*L2^2*a1^2*a3*g*m1*m3^2*sin(y(3)) + 2*L1^2*a2^2*a3*g*m2*m3^2*sin(y(3)) + L1^2*a2^2*a3*g*m2^2*m3*sin(y(3)) + 4*I2*L1*a3*k1*m3*y(4)*cos(y(1) - y(3)) + 4*I2*L1*a3*k2*m3*y(4)*cos(y(1) - y(3)) - 4*I1*L2*a3*k2*m3*y(4)*cos(y(2) - y(3)) - 4*I2*L1*a3*k2*m3*y(5)*cos(y(1) - y(3)) + 4*I1*L2*a3*k2*m3*y(5)*cos(y(2) - y(3)) + 4*I1*L2*a3*k3*m3*y(5)*cos(y(2) - y(3)) - 4*I1*L2*a3*k3*m3*y(6)*cos(y(2) - y(3)) - 2*L1^3*L2^2*a3*m2*m3^2*y(4)^2*sin(y(1) - 2*y(2) + y(3)) - L1^2*a2^2*a3*g*m2^2*m3*sin(2*y(1) - 2*y(2) + y(3)) + 2*I1*L1*L2^2*a3*m3^2*y(4)^2*sin(y(1) - y(3)) + 2*I2*L1^2*L2*a3*m3^2*y(5)^2*sin(y(2) - y(3)) + 2*L1^3*a2^2*a3*m2^2*m3*y(4)^2*sin(y(1) - 2*y(2) + y(3)) - 2*L1^2*a2^3*a3*m2^2*m3*y(5)^2*sin(y(2) - 2*y(1) + y(3)) + 2*I2*L1^2*a3*g*m2*m3*sin(y(3)) + 4*I2*a1^2*a3*g*m1*m3*sin(y(3)) + 4*I1*a2^2*a3*g*m2*m3*sin(y(3)) - 2*L1*L2^2*a3*k1*m3^2*y(4)*cos(y(1) - 2*y(2) + y(3)) - 2*L1*L2^2*a3*k2*m3^2*y(4)*cos(y(1) - 2*y(2) + y(3)) + 2*L1^2*L2*a3*k2*m3^2*y(4)*cos(y(2) - 2*y(1) + y(3)) + 2*L1*L2^2*a3*k2*m3^2*y(5)*cos(y(1) - 2*y(2) + y(3)) - 2*L1^2*L2*a3*k2*m3^2*y(5)*cos(y(2) - 2*y(1) + y(3)) - 2*L1^2*L2*a3*k3*m3^2*y(5)*cos(y(2) - 2*y(1) + y(3)) + 2*L1^2*L2*a3*k3*m3^2*y(6)*cos(y(2) - 2*y(1) + y(3)) - 2*L1^2*L2*a2*a3^2*m2*m3^2*y(6)^2*sin(2*y(1) - 2*y(3)) - 2*L1^2*L2*a2*a3^2*m2*m3^2*y(6)^2*sin(2*y(2) - 2*y(3)) + 2*L1^2*a2*a3*k2*m2*m3*y(4)*cos(y(2) - 2*y(1) + y(3)) - 2*L1^2*a2*a3*k2*m2*m3*y(5)*cos(y(2) - 2*y(1) + y(3)) - 2*L1^2*a2*a3*k3*m2*m3*y(5)*cos(y(2) - 2*y(1) + y(3)) + 2*L1^2*a2*a3*k3*m2*m3*y(6)*cos(y(2) - 2*y(1) + y(3)) - 2*L1*L2^2*a1^2*a3*m1*m3^2*y(4)^2*sin(y(1) - 2*y(2) + y(3)) - 2*L1^2*L2*a2^2*a3*m2*m3^2*y(5)^2*sin(y(2) - 2*y(1) + y(3)) + 2*L1^2*L2*a2^2*a3*m2^2*m3*y(5)^2*sin(y(2) - 2*y(1) + y(3)) + 2*L1^2*L2^2*a2*a3*m2*m3^2*y(5)^2*sin(y(2) - 2*y(1) + y(3)) - L1*L2^2*a1*a3*g*m1*m3^2*sin(2*y(1) - y(3)) + L1*L2^2*a1*a3*g*m1*m3^2*sin(2*y(2) - y(3)) + 3*L1^2*L2*a2*a3*g*m2*m3^2*sin(2*y(1) - y(3)) + L1^2*L2*a2*a3*g*m2^2*m3*sin(2*y(1) - y(3)) + L1^2*L2*a2*a3*g*m2*m3^2*sin(2*y(2) - y(3)) - L1^2*L2*a2*a3*g*m2^2*m3*sin(2*y(2) - y(3)) - 6*L1^3*L2*a2*a3*m2*m3^2*y(4)^2*sin(y(1) - y(3)) - 2*L1^3*L2*a2*a3*m2^2*m3*y(4)^2*sin(y(1) - y(3)) - 2*I2*L1^2*a2*a3*m2*m3*y(5)^2*sin(y(2) - 2*y(1) + y(3)) - 2*I2*L1*a1*a3*g*m1*m3*sin(2*y(1) - y(3)) - 2*I1*L2*a2*a3*g*m2*m3*sin(2*y(2) - y(3)) - 4*L1^2*L2*a3*k2*m2*m3*y(4)*cos(y(2) - y(3)) + 4*L1^2*L2*a3*k2*m2*m3*y(5)*cos(y(2) - y(3)) + 4*L1^2*L2*a3*k3*m2*m3*y(5)*cos(y(2) - y(3)) - 4*L1^2*L2*a3*k3*m2*m3*y(6)*cos(y(2) - y(3)) + 4*L1*a2^2*a3*k1*m2*m3*y(4)*cos(y(1) - y(3)) + 4*L1*a2^2*a3*k2*m2*m3*y(4)*cos(y(1) - y(3)) - 4*L2*a1^2*a3*k2*m1*m3*y(4)*cos(y(2) - y(3)) - 4*L1*a2^2*a3*k2*m2*m3*y(5)*cos(y(1) - y(3)) + 4*L2*a1^2*a3*k2*m1*m3*y(5)*cos(y(2) - y(3)) + 2*L1^2*a2*a3*k2*m2*m3*y(4)*cos(y(2) - y(3)) + 4*L2*a1^2*a3*k3*m1*m3*y(5)*cos(y(2) - y(3)) - 2*L1^2*a2*a3*k2*m2*m3*y(5)*cos(y(2) - y(3)) - 4*L2*a1^2*a3*k3*m1*m3*y(6)*cos(y(2) - y(3)) - 2*L1^2*a2*a3*k3*m2*m3*y(5)*cos(y(2) - y(3)) + 2*L1^2*a2*a3*k3*m2*m3*y(6)*cos(y(2) - y(3)) - L1*L2^2*a1*a3*g*m1*m3^2*sin(y(3)) - 3*L1^2*L2*a2*a3*g*m2*m3^2*sin(y(3)) - L1^2*L2*a2*a3*g*m2^2*m3*sin(y(3)) + 2*L1*L2^2*a1^2*a3*m1*m3^2*y(4)^2*sin(y(1) - y(3)) + 2*L1^2*L2*a2^2*a3*m2*m3^2*y(5)^2*sin(y(2) - y(3)) + 2*L1^2*L2*a2^2*a3*m2^2*m3*y(5)^2*sin(y(2) - y(3)) - 6*L1^2*L2^2*a2*a3*m2*m3^2*y(5)^2*sin(y(2) - y(3)) + L1*L2^2*a1*a3*g*m1*m3^2*sin(2*y(1) - 2*y(2) + y(3)) - L1^2*L2*a2*a3*g*m2*m3^2*sin(2*y(1) - 2*y(2) + y(3)) + L1^2*L2*a2*a3*g*m2^2*m3*sin(2*y(1) - 2*y(2) + y(3)) + 2*L1^3*L2*a2*a3*m2*m3^2*y(4)^2*sin(y(1) - 2*y(2) + y(3)) - 2*L1^3*L2*a2*a3*m2^2*m3*y(4)^2*sin(y(1) - 2*y(2) + y(3)) + 4*I2*L1^2*L2*a3*m2*m3*y(5)^2*sin(y(2) - y(3)) + 4*a1^2*a2^2*a3*g*m1*m2*m3*sin(y(3)) - 2*I2*L1*a1*a3*g*m1*m3*sin(y(3)) - 2*I1*L2*a2*a3*g*m2*m3*sin(y(3)) - 4*L1^2*L2*a2*k3*m2*m3*y(5)*cos(2*y(1) - 2*y(2)) + 4*L1^2*L2*a2*k3*m2*m3*y(6)*cos(2*y(1) - 2*y(2)) + 4*I2*L1*a1^2*a3*m1*m3*y(4)^2*sin(y(1) - y(3)) + 4*I1*L1*a2^2*a3*m2*m3*y(4)^2*sin(y(1) - y(3)) + 4*I2*L2*a1^2*a3*m1*m3*y(5)^2*sin(y(2) - y(3)) + 4*I1*L2*a2^2*a3*m2*m3*y(5)^2*sin(y(2) - y(3)) - 2*I2*L1^2*a2*a3*m2*m3*y(5)^2*sin(y(2) - y(3)) - 2*L1*L2*a2*a3*k1*m2*m3*y(4)*cos(y(1) - 2*y(2) + y(3)) - 2*L1*L2*a2*a3*k2*m2*m3*y(4)*cos(y(1) - 2*y(2) + y(3)) + 2*L1*L2*a2*a3*k2*m2*m3*y(5)*cos(y(1) - 2*y(2) + y(3)) - 2*I1*L1*L2*a2*a3*m2*m3*y(4)^2*sin(y(1) - 2*y(2) + y(3)) - 2*L1*a1*a2^2*a3*g*m1*m2*m3*sin(2*y(1) - y(3)) - 2*L2*a1^2*a2*a3*g*m1*m2*m3*sin(2*y(2) - y(3)) - 2*L1*L2*a2*a3*k1*m2*m3*y(4)*cos(y(1) - y(3)) - 2*L1*L2*a2*a3*k2*m2*m3*y(4)*cos(y(1) - y(3)) + 2*L1*L2*a2*a3*k2*m2*m3*y(5)*cos(y(1) - y(3)) - 2*L1*a1*a2^2*a3*g*m1*m2*m3*sin(y(3)) - 2*L2*a1^2*a2*a3*g*m1*m2*m3*sin(y(3)) + 4*L1*a1^2*a2^2*a3*m1*m2*m3*y(4)^2*sin(y(1) - y(3)) + 4*L2*a1^2*a2^2*a3*m1*m2*m3*y(5)^2*sin(y(2) - y(3)) - 2*I1*L1*L2*a2*a3*m2*m3*y(4)^2*sin(y(1) - y(3)) - 2*L1*L2*a1^2*a2*a3*m1*m2*m3*y(4)^2*sin(y(1) - 2*y(2) + y(3)) + L1*L2*a1*a2*a3*g*m1*m2*m3*sin(2*y(1) - y(3)) + L1*L2*a1*a2*a3*g*m1*m2*m3*sin(2*y(2) - y(3)) + L1*L2*a1*a2*a3*g*m1*m2*m3*sin(y(3)) - 2*L1*L2*a1^2*a2*a3*m1*m2*m3*y(4)^2*sin(y(1) - y(3)) + L1*L2*a1*a2*a3*g*m1*m2*m3*sin(2*y(1) - 2*y(2) + y(3)))/(2*(2*I1*I2*I3 + 2*I2*I3*L1^2*m2 + 2*I1*I3*L2^2*m3 + 2*I2*I3*L1^2*m3 + 2*I2*I3*a1^2*m1 + 2*I1*I3*a2^2*m2 + 2*I1*I2*a3^2*m3 + I3*L1^2*L2^2*m3^2 + I3*L1^2*a2^2*m2^2 + I1*L2^2*a3^2*m3^2 + I2*L1^2*a3^2*m3^2 + 2*I3*a1^2*a2^2*m1*m2 + 2*I2*a1^2*a3^2*m1*m3 + 2*I1*a2^2*a3^2*m2*m3 - I3*L1^2*L2^2*m3^2*cos(2*y(1) - 2*y(2)) - I3*L1^2*a2^2*m2^2*cos(2*y(1) - 2*y(2)) - I2*L1^2*a3^2*m3^2*cos(2*y(1) - 2*y(3)) - I1*L2^2*a3^2*m3^2*cos(2*y(2) - 2*y(3)) + L1^2*L2^2*a3^2*m2*m3^2 + L2^2*a1^2*a3^2*m1*m3^2 + L1^2*a2^2*a3^2*m2*m3^2 + L1^2*a2^2*a3^2*m2^2*m3 + 2*I3*L1^2*L2^2*m2*m3 + 2*I3*L2^2*a1^2*m1*m3 + 2*I2*L1^2*a3^2*m2*m3 + 2*I3*L1^2*a2^2*m2*m3 - L1^2*L2^2*a3^2*m2*m3^2*cos(2*y(2) - 2*y(3)) - L1^2*a2^2*a3^2*m2^2*m3*cos(2*y(1) - 2*y(2)) - L1^2*a2^2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(3)) - L2^2*a1^2*a3^2*m1*m3^2*cos(2*y(2) - 2*y(3)) - L1^2*L2*a2*a3^2*m2*m3^2 - 2*I3*L1^2*L2*a2*m2*m3 + 2*a1^2*a2^2*a3^2*m1*m2*m3 - L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(2)) + L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(1) - 2*y(3)) + L1^2*L2*a2*a3^2*m2*m3^2*cos(2*y(2) - 2*y(3)) - 2*I3*L1^2*L2*a2*m2*m3*cos(2*y(1) - 2*y(2))));












